{% extends "base.html" %}

{% block content %}
<div class="px-8 py-8">
  <div class="mb-8">
    <h1 class="text-3xl font-bold text-slate-900 dark:text-slate-100">{{ framework.name }}</h1>
    {% if framework.version %}
    <p class="text-slate-500 dark:text-slate-400 mt-2">Version: {{ framework.version }}</p>
    {% endif %}
    {% if framework.description %}
    <p class="text-slate-600 dark:text-slate-300 mt-4">{{ framework.description }}</p>
    {% endif %}
  </div>

  <div class="bg-white dark:bg-slate-900 rounded-lg shadow border border-slate-200 dark:border-slate-800">
    <div class="p-6">
      <h2 class="text-xl font-semibold text-slate-800 dark:text-slate-200 mb-6">Sections & Controls</h2>

      {% if framework.sections %}
      <div class="space-y-4">
        {% for section in framework.sections %}
        <div class="border border-slate-200 dark:border-slate-700 rounded-lg p-4">
          <div class="flex items-start justify-between">
            <div class="flex-1">
              <h3 class="text-lg font-semibold text-slate-800 dark:text-slate-200">{{ section.name }}</h3>
              {% if section.description %}
              <p class="text-slate-500 dark:text-slate-400 text-sm mt-1">{{ section.description }}</p>
              {% endif %}
            </div>
          </div>

          {% if section.controls %}
          <div class="mt-4 ml-4 space-y-3">
            {% for control in section.controls %}
            <div class="bg-slate-50 dark:bg-slate-800/60 rounded p-3 border-l-4 border-primary">
              <div class="font-medium text-slate-800 dark:text-slate-200">
                <span class="text-primary">{{ control.control_id }}</span> â€” {{ control.name }}
              </div>
              {% if control.description %}
              <p class="text-sm text-slate-500 dark:text-slate-400 mt-2">{{ control.description }}</p>
              {% endif %}
              {% if control.implementation_guidance %}
              <p class="text-sm text-slate-600 dark:text-slate-300 mt-2">
                <strong>Guidance:</strong> {{ control.implementation_guidance }}
              </p>
              {% endif %}
            </div>
            {% endfor %}
          </div>
          {% endif %}
        </div>
        {% endfor %}
      </div>
      {% else %}
      <p class="text-slate-500 dark:text-slate-400">No sections defined for this framework.</p>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
