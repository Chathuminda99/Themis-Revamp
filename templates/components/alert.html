{# Shadcn Alert Component #}
{# Semantic alerts for info, success, warning, error #}
{# Usage:
   {% include "components/alert.html" with context %}
   {# type="success", title="Success", message="...", dismissible=true #}
#}

<div
  role="alert"
  class="
    rounded-lg border px-4 py-3 space-y-2
    {%- if type == 'error' %}
      bg-destructive/10 border-destructive/30 text-destructive
    {%- elif type == 'warning' %}
      bg-amber-900/20 border-amber-900/30 text-amber-700 dark:text-amber-400
    {%- elif type == 'success' %}
      bg-emerald-900/20 border-emerald-900/30 text-emerald-700 dark:text-emerald-400
    {%- else %} {# info default #}
      bg-blue-900/20 border-blue-900/30 text-blue-700 dark:text-blue-400
    {%- endif %}
  "
  {% if dismissible %}x-data="{ open: true }" x-show="open" x-transition{% endif %}
>
  <div class="flex gap-3">
    {# Icon #}
    <div class="flex-shrink-0 mt-0.5">
      {%- if type == 'error' %}
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
        </svg>
      {%- elif type == 'warning' %}
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path>
        </svg>
      {%- elif type == 'success' %}
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
        </svg>
      {%- else %} {# info #}
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"></path>
        </svg>
      {%- endif %}
    </div>

    {# Content #}
    <div class="flex-1">
      {% if title %}
        <h4 class="font-semibold text-sm">{{ title }}</h4>
      {% endif %}
      {% if message %}
        <p class="text-sm {% if title %}mt-1{% endif %}">{{ message }}</p>
      {% endif %}
    </div>

    {# Optional close button #}
    {% if dismissible %}
      <button
        @click="open = false"
        class="flex-shrink-0 opacity-70 hover:opacity-100 transition-opacity">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
        </svg>
      </button>
    {% endif %}
  </div>
</div>
