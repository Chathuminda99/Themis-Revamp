{# Shadcn Stepper Component #}
{# Multi-step form progress indicator #}
{# Usage:
   {% include "components/stepper.html" with context %}
   {# stepper_steps=[
        {"number": 1, "label": "Personal Info", "completed": true, "active": false},
        {"number": 2, "label": "Contact", "completed": false, "active": true},
        {"number": 3, "label": "Review", "completed": false, "active": false}
      ]
   #}
#}

<div class="space-y-4">
  <!-- Progress Line -->
  <div class="flex items-center gap-2">
    {% for step in stepper_steps %}
      <!-- Step Circle -->
      <div
        class="
          flex items-center justify-center w-10 h-10 rounded-full font-semibold text-sm
          {% if step.completed %}
            bg-emerald-600 text-white
          {% elif step.active %}
            bg-primary text-primary-foreground ring-4 ring-primary/20
          {% else %}
            bg-muted text-muted-foreground
          {% endif %}
          transition-all duration-300
        "
      >
        {% if step.completed %}
          <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"></path>
          </svg>
        {% else %}
          {{ step.number }}
        {% endif %}
      </div>

      <!-- Connector Line -->
      {% if not loop.last %}
        <div
          class="
            flex-1 h-1 rounded-full
            {% if step.completed or step.active %}
              bg-primary
            {% else %}
              bg-muted
            {% endif %}
            transition-all duration-300
          "
        ></div>
      {% endif %}
    {% endfor %}
  </div>

  <!-- Step Labels -->
  <div class="flex gap-2 justify-between">
    {% for step in stepper_steps %}
      <div class="flex-1 text-center">
        <p class="text-xs font-medium {% if step.active %}text-primary{% else %}text-muted-foreground{% endif %}">
          {{ step.label }}
        </p>
      </div>
    {% endfor %}
  </div>
</div>
