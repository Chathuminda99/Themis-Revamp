<form hx-post="{% if client %}/clients/{{ client.id }}{% else %}/clients{% endif %}" hx-target="#clients-table"
  hx-swap="beforeend"
  @submit="if (htmx.config.refreshOnHistoryMiss) htmx.ajax('GET', '/clients', {target: '#clients-table', swap: 'innerHTML'}); $store.modal.hide()">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-slate-900 tracking-tight">{% if client %}Update Client{% else %}New Client{%
      endif %}
    </h2>
    <p class="text-slate-500 text-sm mt-1">Fill in the details below to {% if client %}update the{% else %}create a
      new{% endif %} client.</p>
  </div>
  <div class="space-y-5">
    <div>
      <label for="name" class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Client Name
        *</label>
      <input type="text" id="name" name="name" value="{{ client.name if client else '' }}" required
        class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-lg hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="industry"
        class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Industry</label>
      <input type="text" id="industry" name="industry" value="{{ client.industry if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-lg hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="contact_name" class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Contact
        Name</label>
      <input type="text" id="contact_name" name="contact_name" value="{{ client.contact_name if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-lg hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="contact_email"
        class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Contact Email</label>
      <input type="email" id="contact_email" name="contact_email" value="{{ client.contact_email if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-lg hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="notes" class="block text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2">Notes</label>
      <textarea id="notes" name="notes" rows="4"
        class="w-full px-4 py-2.5 bg-slate-50 border border-slate-200 text-slate-900 placeholder-slate-400 rounded-lg hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-colors sm:text-sm">{{ client.notes if client else '' }}</textarea>
    </div>

    <div class="flex gap-4 justify-end pt-6 border-t border-slate-100 mt-6">
      <button type="button" @click="$store.modal.hide()"
        class="px-5 py-2.5 text-sm font-medium text-slate-700 bg-white border border-slate-200 hover:bg-slate-50 hover:text-slate-900 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500/50 shadow-sm">
        Cancel
      </button>
      <button type="submit"
        class="px-5 py-2.5 text-sm font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-all focus:outline-none focus:ring-2 focus:ring-blue-500/50 shadow-sm">
        {% if client %}Update{% else %}Create{% endif %} Client
      </button>
    </div>
  </div>
</form>