<form hx-post="{% if client %}/clients/{{ client.id }}{% else %}/clients{% endif %}" hx-target="#clients-table"
  hx-swap="beforeend"
  @submit="if (htmx.config.refreshOnHistoryMiss) htmx.ajax('GET', '/clients', {target: '#clients-table', swap: 'innerHTML'}); $store.modal.hide()">
  <div class="mb-6">
    <h2 class="text-2xl font-bold text-white tracking-tight">{% if client %}Update Client{% else %}New Client{% endif %}
    </h2>
    <p class="text-slate-400 text-sm mt-1">Fill in the details below to {% if client %}update the{% else %}create a
      new{% endif %} client.</p>
  </div>
  <div class="space-y-5">
    <div>
      <label for="name" class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Client Name
        *</label>
      <input type="text" id="name" name="name" value="{{ client.name if client else '' }}" required
        class="w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/60 text-slate-200 placeholder-slate-500 rounded-lg hover:border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="industry"
        class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Industry</label>
      <input type="text" id="industry" name="industry" value="{{ client.industry if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/60 text-slate-200 placeholder-slate-500 rounded-lg hover:border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="contact_name" class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Contact
        Name</label>
      <input type="text" id="contact_name" name="contact_name" value="{{ client.contact_name if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/60 text-slate-200 placeholder-slate-500 rounded-lg hover:border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="contact_email"
        class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Contact Email</label>
      <input type="email" id="contact_email" name="contact_email" value="{{ client.contact_email if client else '' }}"
        class="w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/60 text-slate-200 placeholder-slate-500 rounded-lg hover:border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-colors sm:text-sm" />
    </div>

    <div>
      <label for="notes" class="block text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2">Notes</label>
      <textarea id="notes" name="notes" rows="4"
        class="w-full px-4 py-2.5 bg-slate-800/50 border border-slate-700/60 text-slate-200 placeholder-slate-500 rounded-lg hover:border-slate-600 focus:outline-none focus:ring-2 focus:ring-cyan-500/50 focus:border-cyan-500 transition-colors sm:text-sm">{{ client.notes if client else '' }}</textarea>
    </div>

    <div class="flex gap-4 justify-end pt-6 border-t border-slate-800/60 mt-6">
      <button type="button" @click="$store.modal.hide()"
        class="px-5 py-2.5 text-sm font-medium text-slate-300 bg-slate-800 hover:bg-slate-700 hover:text-white rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-slate-500/50">
        Cancel
      </button>
      <button type="submit"
        class="px-5 py-2.5 text-sm font-bold text-white bg-gradient-to-r from-cyan-500 to-indigo-500 rounded-lg hover:from-cyan-400 hover:to-indigo-400 transition-all focus:outline-none focus:ring-2 focus:ring-indigo-500/50 shadow-lg shadow-indigo-500/20">
        {% if client %}Update{% else %}Create{% endif %} Client
      </button>
    </div>
  </div>
</form>