<form
  hx-post="{% if client %}/clients/{{ client.id }}{% else %}/clients{% endif %}"
  hx-target="#clients-table"
  hx-swap="beforeend"
  @submit="if (htmx.config.refreshOnHistoryMiss) htmx.ajax('GET', '/clients', {target: '#clients-table', swap: 'innerHTML'}); $store.modal.hide()"
>
  <div class="space-y-6">
    <div>
      <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Client Name *</label>
      <input
        type="text"
        id="name"
        name="name"
        value="{{ client.name if client else '' }}"
        required
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>

    <div>
      <label for="industry" class="block text-sm font-medium text-gray-700 mb-2">Industry</label>
      <input
        type="text"
        id="industry"
        name="industry"
        value="{{ client.industry if client else '' }}"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>

    <div>
      <label for="contact_name" class="block text-sm font-medium text-gray-700 mb-2">Contact Name</label>
      <input
        type="text"
        id="contact_name"
        name="contact_name"
        value="{{ client.contact_name if client else '' }}"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>

    <div>
      <label for="contact_email" class="block text-sm font-medium text-gray-700 mb-2">Contact Email</label>
      <input
        type="email"
        id="contact_email"
        name="contact_email"
        value="{{ client.contact_email if client else '' }}"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      />
    </div>

    <div>
      <label for="notes" class="block text-sm font-medium text-gray-700 mb-2">Notes</label>
      <textarea
        id="notes"
        name="notes"
        rows="4"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
      >{{ client.notes if client else '' }}</textarea>
    </div>

    <div class="flex gap-4 justify-end pt-4 border-t border-gray-200">
      <button
        type="button"
        @click="$store.modal.hide()"
        class="px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200"
      >
        Cancel
      </button>
      <button
        type="submit"
        class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700"
      >
        {% if client %}Update{% else %}Create{% endif %} Client
      </button>
    </div>
  </div>
</form>
